{% extends '_layout.html' %}

{% block jsinit %}
<script src="/js/validator.min.js"></script>
{% endblock %}

{% block body %}
<div class="panel">
  <div class="panel-heading">
    <h4>账号设置</h4>
  </div>
  <div class="panel-body">
    <ul class="nav nav-tabs">
      <li class="active"><a href="#">基本信息</a></li>
      <li><a href="/user/settings/avatar">修改头像</a></li>
      <li><a href="/user/settings/password">密码安全</a></li>
    </ul>
    <div class="setting">
      <form accept-charset="UTF-8" action="/user/settings" class="form-horizontal" method="post" data-toggle="validator" role="form">
        <input type="hidden" name="_csrf" value="{{csrf}}"/>
        <div class="form-group">
          <label class="col-md-2 control-label" for="user_nickname">用户名</label>
          <div class="col-md-6">
	    <input class="form-control" disabled="disabled" id="user_nickname" name="username" type="text" value="{{current_user.username}}" />
          </div>
        </div>
        <div class="form-group">
          <label class="col-md-2 control-label" for="user_email">电子邮件</label>
          <div class="col-md-6">
            <input class="form-control" id="user_email" name="email" type="text" pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" maxlength="50" value="{{current_user.email}}" required />
	    <span class="help-block">需要50位长度以内有效的邮箱地址</span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-md-2 control-label" for="user_account_attributes_personal_website">个人网站</label>
          <div class="col-md-6">
	    <input class="form-control" id="user_account_attributes_personal_website" name="homepage" maxlength="256" type="text" value="{{current_user.homepage}}" />
	    <span class="help-block">最长128位字符网址串</span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-md-2 control-label" for="user_account_attributes_signature">个性签名</label>
          <div class="col-md-6">
	    <input class="form-control" id="user_account_attributes_signature" name="signature" maxlength="256" type="text" value="{{current_user.signature}}" />
	    <span class="help-block">最长128位字符文本</span>
          </div>
        </div>
        <div class="form-group">
          <div class="col-md-offset-2 col-md-6">
            <button type="submit" class="btn btn-primary">保存修改</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

{% endblock %}

{% block sidebar %}
{% include '_sidebar_user.html' %}
{% include '_sidebar_score.html' %}
{% endblock %}
