{% extends '_layout.html' %}

{% block jsinit %}
<script src="/js/validator.min.js"></script>
{% endblock %}

{% block body %}
<div class="panel">
  <div class="panel-heading">
    <h4>账号设置</h4>
  </div>
  <div class="panel-body">
    <ul class="nav nav-tabs">
      <li><a href="/user/settings">基本信息</a></li>
      <li><a href="/user/settings/avatar">修改头像</a></li>
      <li class="active"><a href="#">密码安全</a></li>
    </ul>
    <div class="setting">
      <form accept-charset="UTF-8" action="/user/settings/password" class="simple_form form-horizontal" method="post" data-toggle="validator" role="form">
        <input type="hidden" name="_csrf" value="{{csrf}}"/>
        <div class="form-group">
          <label class="col-md-2 control-label" for="user_current_password">当前密码</label>
          <div class="col-md-6">
	    <input class="form-control" id="user_current_password" name="password" type="password" data-minlength="8" maxlength="18" required/>
	    <span class="help-block"></span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-md-2 control-label" for="user_password">新密码</label>
          <div class="col-md-6">
	    <input class="form-control" id="user_password" name="newpassword" type="password" data-minlength="8" maxlength="18" required/>
	    <span class="help-block">长度为8-18位</span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-md-2 control-label" for="user_password_confirmation">密码确认</label>
          <div class="col-md-6">
	    <input class="form-control" id="user_password_confirmation" name="newpassword_confirm" type="password" data-minlength="8" maxlength="18" data-match="#user_password" required/>
	    <span class="help-block"></span>
          </div>
        </div>

        <div class='form-group'>
          <div class="col-sm-offset-3 col-sm-9">
	    <button type="submit" name="commit" class="btn btn-primary">修改密码</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

{% endblock %}

{% block sidebar %}
{% include '_sidebar_user.html' %}
{% include '_sidebar_score.html' %}
{% endblock %}
